letrec fun lookupStr k [(k', v), ...kvs] → 
   match k === k' as {
      True → v;
      False → lookupStr k kvs
   };
letrec fun lookupNum k [(k', v), ...kvs] → 
   match k == k' as {
      True → v;
      False → lookupNum k kvs
   };
let bars = flip map (lookupNum 2015 data) (compose barChart snd)
in
Graphic(0, 0, length bars, max (map height bars), spaceRight 1 bars, None)
